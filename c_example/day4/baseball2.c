// ìˆ«ì 3ê°œë¥¼ ë§Œë“œì‹œì˜¤ (ë‹¨, ì„œë¡œ ë‹¤ë¥¸ ìˆ«ì & ëœë¤)
// ìˆ«ì 3ê°œë¥¼ ì…ë ¥ ë°›ìœ¼ì„¸ìš” (scanf)
// ìœ„ì¹˜ì™€ ìˆ«ìê°€ ê°™ìœ¼ë©´ strike + 1
// ìœ„ì¹˜ê°€ ë‹¤ë¥´ì§€ë§Œ ìˆ«ìê°€ ê°™ìœ¼ë©´ ball + 1
// ëª¨ë“  ë°ì´í„°ì˜ ìœ„ì¹˜ì™€ ìˆ«ìê°€ ë™ì¼í•˜ë©´ ì„±ê³µ
// ì‹œë„ íšŸìˆ˜ë¥¼ ì¶œë ¥í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ë§Œë“œì„¸ìš”.
// ìˆ«ì ë²”ìœ„ëŠ” 0~9

#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <unistd.h>

int main(void)
{
    int threeNumbers[3];
    int yourNumbers[3];
    int strike = 0;
    int ball = 0;
    int out = 0;

    //  âœ… 1. ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ë‚œìˆ˜ ìƒì„±
    srand((unsigned int)time(NULL));
    for (int i = 0; i < 3; ++i)
    {
        int num;             // ì¤‘ë³µê²€ì‚¬ë¥¼ ìœ„í•œ ë³€ìˆ˜
        int duplication = 0; // ì¤‘ë³µê²€ì‚¬ë¥¼ ìœ„í•œ ì¡°ê±´

        do
        {
            printf("test");
            num = rand() % 10; // 0~9 ì‚¬ì´ì˜ ë‚œìˆ˜ ìƒì„±
            for (int j = 0; j < i; ++j)
            { // ì¤‘ë³µê²€ì‚¬ë¥¼ ìœ„í•´ 2ì¤‘ forë¬¸
                if (threeNumbers[j] == num)
                {                    // numì— ì…ë ¥ëœ ê¸°ìƒì„±ëœ ë‚œìˆ˜ì™€ ì‹ ê·œ ìƒì„± ë‚œìˆ˜ê°€ ì¤‘ë³µë˜ì–´ìˆëŠ”ì§€ ê²€ì‚¬
                    duplication = 1; // ì¤‘ë³µë˜ë©´ ê±°ì§“ìœ¼ë¡œ do ë°˜ë³µ ì‹¤í–‰
                    break;
                }
            }
        } while (duplication); // ì¤‘ë³µ ê²€ì‚¬ í†µê³¼í•˜ë©´
        threeNumbers[i] = num; // ë°°ì—´ì— ìƒì„±ëœ ë‚œìˆ˜ ì…ë ¥
    }

    //  âœ… 2. ê²Œì„ ì‹œì‘ ë©”ì„¸ì§€ ì¶œë ¥
    printf("-----------------------------------\n");
    printf("      ğŸ”¥Baseball Game StartğŸ”¥\n");
    printf("-----------------------------------\n");
    fflush(stdout);
    sleep(2);
    printf("   ì§„í–‰í•˜ì‹œë ¤ë©´ ì—”í„°ë¥¼ ëˆ„ë¥´ì„¸ìš”\n");
    printf("-----------------------------------\n");
    getchar();
    printf("ì»´í“¨í„°ê°€ ìƒì„±í•œ ìˆ«ìëŠ”\n\n"); // ë‚˜ì¤‘ì— ì£¼ì„ì²˜ë¦¬
    for (int i = 0; i < 3; i++)
    {
        printf("%d ì…ë‹ˆë‹¤.\n\n", threeNumbers[i]);
    }

    int attempts = 0; // ì‹œë„íšŸìˆ˜ ì¹´ìš´íŒ…ì„ ìœ„í•œ ë³€ìˆ˜

    //  âœ… 3. ì‚¬ìš©ìì—ê²Œ ìˆ«ì ì…ë ¥ ë°›ê¸°
    do
    {
        strike = 0; // ìˆ«ì 3ê°œ ìƒˆë¡­ê²Œ ì…ë ¥ ë°›ìœ¼ë©´ ë‹¤ì‹œ ì¹´ìš´íŒ… í•´ì•¼í•˜ë¯€ë¡œ 0 ìœ¼ë¡œ ì´ˆê¸°í™”
        ball = 0;
        out = 0;

        printf("-----------------------------------\n");
        printf("  0~9 ì‚¬ì´ì˜ ìˆ«ì 3ê°œë¥¼ ì…ë ¥í•˜ì„¸ìš”\n");
        printf("-----------------------------------\n");
        printf(": ");

        for (int i = 0; i < 3; ++i) // ì…ë ¥ 3ê°œ ë°›ì•„ì•¼í•˜ë¯€ë¡œ forë¬¸ìœ¼ë¡œ ë°˜ë³µ
        {
            int num;         // ì¤‘ë³µ ëŒ€ì¡°ë¥¼ ìœ„í•´ ê°’ì„ ëŒ€ì‹  ë°›ëŠ” ë³€ìˆ˜
            int duplication; // ì¤‘ë³µ ì²´í¬ë¥¼ ìœ„í•œ ë³€ìˆ˜
            do
            {
                duplication = 0;   // ì¤‘ë³µ ì²´í¬ë¥¼ ìœ„í•´ 0ìœ¼ë¡œ ì´ˆê¸°í™”
                scanf("%d", &num); // ìˆ«ì ì¼ë‹¨ ì…ë ¥ë°›ì•„ì„œ numì— ì…ë ¥
                for (int j = 0; j < i; ++j)
                {
                    if (yourNumbers[j] == num)
                    {                                                     // num ë°ì´í„°ê°€ ë°°ì—´ì— ì¤‘ë³µë˜ëŠ”ì§€ ì²´í¬í•´ì„œ ì¡°ê±´í™”
                        printf("\nì¤‘ë³µë˜ì§€ ì•Šì€ ìˆ«ìë¥¼ ë„£ì–´ì£¼ì„¸ìš”!\n\n"); // í•œë²ˆë§Œ ì¶œë ¥ë˜ê²Œ í•˜ë ¤ë©´ ì–´ë–»ê²Œí•´ì•¼í•˜ì§€??????????
                        duplication = 1;                                  // ì¤‘ë³µë˜ë©´ ë³€ìˆ˜ê°’ 1ìœ¼ë¡œ do ë¬¸ ë°˜ë³µ
                        break;
                    }
                }
            } while (duplication); // ì¤‘ë³µë˜ì§€ ì•Šì•˜ì„ ë•Œ do íƒˆì¶œ
            yourNumbers[i] = num;
        }

        for (int i = 0; i < 3; i++)
        {
            if (threeNumbers[i] == yourNumbers[i])
            {
                strike++;
            }
            else
            {
                int found = 0;
                for (int j = 0; j < 3; j++)
                {
                    if (threeNumbers[i] == yourNumbers[j])
                    {
                        ball++;
                        found = 1;
                        break;
                    }
                }
            }
        }
        if (strike == 0 && ball == 0)
        {
            printf("-----------------------------------\n");
            printf("   âŒâŒâŒâŒâŒâŒ OUT âŒâŒâŒâŒâŒâŒ\n");
        }
        printf("-----------------------------------\n");

        attempts++;
        printf("-----------------------------------\n");
        printf("         %d ë²ˆì§¸ ì‹œë„ì…ë‹ˆë‹¤!\n", attempts);
        printf("-----------------------------------\n");
        printf("-----------------------------------\n");
        printf("\nstrike : %d\n", strike);
        printf("\nball : %d\n\n", ball);
        printf("-----------------------------------\n");
    } while (strike < 3);

    return 0;
}
